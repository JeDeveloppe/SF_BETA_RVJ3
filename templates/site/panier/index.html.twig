{% extends 'site/base.html.twig' %}

{% block title %}Panier{% endblock %}


{% block body %}

    <h1 class="col-12 text-center my-5">Panier</h1>

    <div class="row justify-content-start">

        {% if panier_occasions | length > 0 %}
            <div class="col-11 mx-auto mb-5">
                <table class="table table-striped table-dark text-center">
                    <thead>
                        <th>Occasion</th>
                        <th>Nom / Editeur / Année</th>
                        <th>États</th>
                        <th>Prix TTC</th>
                        <th></th>
                    </thead>
                    <tbody>

                        {% for key,panier_occasion in panier_occasions %}
                            <tr>
                                <td></td>
                                <td>
                                    {{ panier_occasion.occasion.boite.nom }} <br/>
                                    {{ panier_occasion.occasion.boite.editeur }} <br />
                                    {{ panier_occasion.occasion.boite.annee }}
                                </td>
                                <td>
                                    État de la boite: {{ panier_occasion.occasion.etatBoite }} <br/>
                                    État du matériel: {{ panier_occasion.occasion.etatMateriel }} <br/>
                                    Règle du jeu: {{ panier_occasion.occasion.regleJeu }}
                                </td>
                                <td class="align-middle">{{ (panier_occasion.occasion.priceHt * tva) | number_format(2, '.', ',') }}</td>
                                <td class="align-middle"><a class="btn btn-danger" href="{{ path('app_panier_delete', {'id': panier_occasion.id}) }}">Sup</a></td>
                            </tr>
                        {% endfor %}

                    </tbody>
                </table>
            </div>
        {% endif %}

        {% if panier_boites | length > 0 %}
            <div class="col-11 mx-auto mb-5">
                <table class="table table-striped table-dark text-center">
                    <thead>
                        <th>Boite</th>
                        <th>Nom / Editeur / Année</th>
                        <th>Votre message</th>
                        <th></th>
                    </thead>
                    <tbody>

                        {% for key,panier_boite in panier_boites %}
                            <tr>
                                <td></td>
                                <td>
                                    {{ panier_boite.boite.nom }} <br/>
                                    {{ panier_boite.boite.editeur }} <br />
                                    {{ panier_boite.boite.annee }}
                                </td>
                                <td class="align-middle">{{ panier_boite.message }}</td>
                                <td class="align-middle"><a class="btn btn-danger" href="{{ path('app_panier_delete', {'id': panier_boite.id}) }}">Sup</a></td>
                            </tr>
                        {% endfor %}

                    </tbody>
                </table>
            </div>
        {% endif %}
    </div>


{% endblock %}
